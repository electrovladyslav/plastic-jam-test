{"version":3,"file":"main.js","sources":["js/main.js"],"sourcesContent":["const SERVER_URL = `https://swapi.co/api/people/`;\r\n\r\n/*---Model---*/\r\nconst loadData = (path = SERVER_URL) => {\r\n  return fetch(path).then(\r\n    (res) => res.json(),\r\n    (err) => window.console.log(err));\r\n};\r\n\r\n/*---View---*/\r\nconst renderTable = (persons) => {\r\n  const container = document.querySelector(`.table__tbody`);\r\n\r\n  const rows = persons.map((person) => {\r\n    const checked = window.sessionStorage.getItem(`${person.name}`) || ``;\r\n    const row = `\r\n      <tr class=\"table table__tr\" data-person=\"${person.name}\">\r\n      <td class=\"table table__td table__td--like\">\r\n      <input class=\"table table__checkbox\" type=\"checkbox\" ${checked}>\r\n      <label><label>\r\n      </td>\r\n      <td class=\"table table__td table__td--name\">${person.name}</td>\r\n      <td class=\"table table__td table__td--gender\">${person.gender}</td>\r\n      <td class=\"table table__td table__td--birth_year\">${person.birth_year}</td>\r\n      <td class=\"table table__td table__td--height\">${person.height}</td>\r\n      </tr>`;\r\n    return row;\r\n  }).join(``);\r\n  container.innerHTML = rows;\r\n};\r\n\r\nconst clickHandler = (event) => {\r\n  const row = event.currentTarget;\r\n  const person = row.dataset.person;\r\n  const checkbox = row.querySelector(`input`);\r\n  if (checkbox.checked) {\r\n    checkbox.checked = false;\r\n    window.sessionStorage.removeItem(person);\r\n  } else {\r\n    checkbox.checked = true;\r\n    window.sessionStorage.setItem(person, `checked`);\r\n  }\r\n};\r\n\r\n/*---Controller---*/\r\nloadData().then((data) => {\r\n  let persons = data.results;\r\n  renderTable(persons);\r\n\r\n  const rows = document.querySelectorAll(`.table__tr`);\r\n  rows.forEach((row) => {\r\n    row.addEventListener(`click`, (event) => {\r\n      event.preventDefault();\r\n      clickHandler(event);\r\n    });\r\n  })\r\n});\r\n"],"names":[],"mappings":";;;AAAA,MAAM,UAAU,GAAG,CAAC,4BAA4B,CAAC,CAAC;;;AAGlD,MAAM,QAAQ,GAAG,CAAC,IAAI,GAAG,UAAU,KAAK;EACtC,OAAO,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI;IACrB,CAAC,GAAG,KAAK,GAAG,CAAC,IAAI,EAAE;IACnB,CAAC,GAAG,KAAK,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;CACrC,CAAC;;;AAGF,MAAM,WAAW,GAAG,CAAC,OAAO,KAAK;EAC/B,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;;EAE1D,MAAM,IAAI,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC,MAAM,KAAK;IACnC,MAAM,OAAO,GAAG,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;IACtE,MAAM,GAAG,GAAG,CAAC;+CAC8B,EAAE,MAAM,CAAC,IAAI,CAAC;;2DAEF,EAAE,OAAO,CAAC;;;kDAGnB,EAAE,MAAM,CAAC,IAAI,CAAC;oDACZ,EAAE,MAAM,CAAC,MAAM,CAAC;wDACZ,EAAE,MAAM,CAAC,UAAU,CAAC;oDACxB,EAAE,MAAM,CAAC,MAAM,CAAC;WACzD,CAAC,CAAC;IACT,OAAO,GAAG,CAAC;GACZ,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;EACZ,SAAS,CAAC,SAAS,GAAG,IAAI,CAAC;CAC5B,CAAC;;AAEF,MAAM,YAAY,GAAG,CAAC,KAAK,KAAK;EAC9B,MAAM,GAAG,GAAG,KAAK,CAAC,aAAa,CAAC;EAChC,MAAM,MAAM,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC;EAClC,MAAM,QAAQ,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;EAC5C,IAAI,QAAQ,CAAC,OAAO,EAAE;IACpB,QAAQ,CAAC,OAAO,GAAG,KAAK,CAAC;IACzB,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;GAC1C,MAAM;IACL,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC;IACxB,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;GAClD;CACF,CAAC;;;AAGF,QAAQ,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK;EACxB,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;EAC3B,WAAW,CAAC,OAAO,CAAC,CAAC;;EAErB,MAAM,IAAI,GAAG,QAAQ,CAAC,gBAAgB,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;EACrD,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,KAAK;IACpB,GAAG,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,KAAK;MACvC,KAAK,CAAC,cAAc,EAAE,CAAC;MACvB,YAAY,CAAC,KAAK,CAAC,CAAC;KACrB,CAAC,CAAC;GACJ,CAAC,CAAA;CACH,CAAC,CAAC,;;"}